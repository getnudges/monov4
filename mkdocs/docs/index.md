# Welcome to UnAd

Welcome to the UnAd system POC repository.  This repo is meant to document all of the necessary components of the UnAd system and be used as a starting point for development.

## Repository Structure

The UnAd system architecture is guided by Domain-Driven principals in terms of structure, and (roughly) Event-Driven architecture in terms of behavior and interaction between it's services.

This repository structure attempts to reflect that approach as much as possible.  The primary directories of interest are as follows.

- `.configuration` -- This directory contains the Winget configuration for setting up developer machines.
- `.github` -- This directory contains the GitHub Actions workflows and related files.
- `.vscode` -- This directory contains the [VS Code](https://code.visualstudio.com/) configuration necessary to best edit this code locally.
- `db` -- This directory contains code an Docker configurations for [the databases](/data)
- `dotenv` -- This directory is a placeholder directory for the `.env` file output of [Terraform](/terraform)
- `dotnet` -- This directory contains all .NET code.
- `env` -- This directory contains some random bits used locally, like the SSH keys for access to the [Jumpbox](/aws/ec2).
- `mkdocs` -- This directory contains this documentation, generated with [MkDocs](https://www.mkdocs.org/).
- `packages` -- This directory contains the JavaScript packages used by the sites in the `web` directory.
- `scripts` -- This directory contains helpful scripts for random bits around the repo.  Mostly unused at the moment.
- `terraform` -- This directory contains the [Terraform configuration](/terraform) for the AWS infrastructure, as well as related, ancillary pieces.
- `web` -- This directory contains the web-related code, such as the signup site and admin UI.
- `.` (root) -- The root of the repo contains, primarily, the configuration files needed to run the system localy.

## Initial Setup

Following an initial clone of this repository, some setup is required for everything to go smoothly.

### Development Machine Configuration

First, we need to ensure all the necessary tooling is installed on the development machine.  You can do this by running the [`configure-local.ps1`](/scripts#configure-local) script at the root fo the repository.

!!! important
    Keep in mind, this script *must be run as administrator*.

After the script has completed (which can take between a few minutes and several hours), you are ready to setup the code to run locally.

### Code Configuration

Second, some basic configuration is required. Assuming you have [AWS Access](aws-access), create a file named `.env` at the root of the repository.  It should contain (at least) the following entries:

```ini
AWS_ACCESS_KEY_ID="<value_here>"
AWS_SECRET_ACCESS_KEY="<value_here>"
AWS_REGION="<value_here>"

```

These values can be found in the AWS Console.

- `AWS_ACCOUNT_NUMBER` can be found at the top of any Console window.  It is the number after the "@" symbol ![AWS Account Number](img/aws-account-number.png){: .shadow-box-image }
- `AWS_ACCESS_KEY_ID` and `AWS_SECRET_ACCESS_KEY` are generated by creating [Access Keys](https://docs.aws.amazon.com/powershell/latest/userguide/pstools-appendix-sign-up.html).
- `AWS_REGION` can be found in the dropdown to the left of your account information at the Console Home ![Console Home](img/aws-region.png){: .shadow-box-image }
- `AWS_ECR_ACCOUNT_URL` is constructed using this format: `<AWS_ACCOUNT_NUMBER>.dkr.ecr.<AWS_REGION>.amazonaws.com`, replacing the placeholders her with the values from above.

Once this file is populated, you may then run the [remaining scripts](/scripts#init).
