# https://icons.terrastruct.com/ for icons

ElastiCache: {
  shape: image
  icon: ./icons/elasticache.svg
}

Twilio: {
  label: ""
  shape: image
  icon: ./icons/twilio.svg
}

Stripe: {
  label: ""
  shape: image
  icon: ./icons/stripe.svg
}

RDS: {
  icon: ./icons/aurora.svg
  label: "RDS"
  ...@rds/dbs
}

ECS: {
  icon: "./icons/ecs.svg"
  nudges-cluster: {
    ...@ecs/containers
  }
}

Cloudfront: {
  shape: image
  icon: ./icons/cloudfront.svg
}
Cloudwatch: {
  shape: image
  icon: ./icons/cloudwatch.svg
}

S3: {
  icon: ./icons/s3.svg
  admin-ui: {
    icon: ./icons/react.svg
  }
}

MSK: {
  shape: image
  icon: ./icons/msk.svg
}

Admin: {
  shape: image
  icon: ./icons/admin-user.svg
}

S3.admin-ui -> Cloudfront
S3 -> Cloudwatch

Admin -> Cloudfront: portal.nudges.tech

S3.admin-ui -> ECS.nudges-cluster.graphql-gateway
S3.admin-ui -> ECS.nudges-cluster.auth-api

ECS.nudges-cluster.graphql-gateway -> ECS.nudges-cluster.user-api
ECS.nudges-cluster.graphql-gateway -> ECS.nudges-cluster.payment-api
ECS.nudges-cluster.graphql-gateway -> ECS.nudges-cluster.product-api

ECS.nudges-cluster.user-api -> RDS.userdb
ECS.nudges-cluster.payment-api -> RDS.paymentdb
ECS.nudges-cluster.product-api -> RDS.productdb
ECS.nudges-cluster -> ElastiCache
ECS -> S3: Logs

Twilio -> ECS.nudges-cluster.webhooks
Stripe -> ECS.nudges-cluster.webhooks

ECS.nudges-cluster.webhooks -> RDS.userdb
ECS.nudges-cluster.webhooks -> RDS.paymentdb
